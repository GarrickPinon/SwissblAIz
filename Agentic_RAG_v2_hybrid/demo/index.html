<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwissblAIz Assistant</title>
    <meta name="description" content="Next-gen hybrid voice assistant powered by on-device FunctionGemma + cloud Gemini Flash">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- â”€â”€â”€ Top Telemetry Bar â”€â”€â”€ -->
        <header class="telemetry-bar">
            <div class="telemetry-left">
                <div class="logo">
                    <span class="logo-icon">ðŸŒµ</span>
                    <span class="logo-text">SwissblAIz</span>
                    <span class="logo-version">V3</span>
                </div>
            </div>
            <div class="telemetry-center">
                <div class="routing-badge" id="routingBadge">
                    <span class="routing-dot"></span>
                    <span class="routing-label">STANDBY</span>
                </div>
            </div>
            <div class="telemetry-right">
                <div class="metric" id="latencyMetric">
                    <span class="metric-label">LATENCY</span>
                    <span class="metric-value">â€”</span>
                </div>
                <div class="metric" id="confidenceMetric">
                    <span class="metric-label">CONFIDENCE</span>
                    <span class="metric-value">â€”</span>
                </div>
                <div class="metric" id="complexityMetric">
                    <span class="metric-label">DIFFICULTY</span>
                    <span class="metric-value">â€”</span>
                </div>
            </div>
        </header>

        <!-- â”€â”€â”€ Main Content Area â”€â”€â”€ -->
        <main class="assistant-main">
            <!-- Active Transcript -->
            <div class="transcript-area" id="transcriptArea">
                <p class="transcript-text" id="transcriptText"></p>
            </div>

            <!-- Action Cards Container -->
            <div class="cards-container" id="cardsContainer">
                <!-- Cards injected by JS -->
            </div>

            <!-- Orb Container -->
            <div class="orb-container" id="orbContainer">
                <div class="orb-glow"></div>
                <div class="orb" id="orb">
                    <div class="orb-ring ring-1"></div>
                    <div class="orb-ring ring-2"></div>
                    <div class="orb-ring ring-3"></div>
                    <div class="orb-core"></div>
                </div>
                <p class="orb-status" id="orbStatus">Tap to speak</p>
            </div>
        </main>

        <!-- â”€â”€â”€ Bottom Controls â”€â”€â”€ -->
        <footer class="controls-bar">
            <div class="controls-left">
                <button class="control-btn" id="ttsToggle" title="Toggle voice output">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
                        <path d="M15.54 8.46a5 5 0 0 1 0 7.07" class="sound-wave"/>
                        <path d="M19.07 4.93a10 10 0 0 1 0 14.14" class="sound-wave"/>
                    </svg>
                </button>
            </div>
            <div class="controls-center">
                <button class="mic-btn" id="micBtn" aria-label="Press and hold to speak">
                    <div class="mic-btn-ring"></div>
                    <svg class="mic-icon" width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                        <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                    </svg>
                </button>
            </div>
            <div class="controls-right">
                <div class="text-input-wrapper">
                    <input type="text" class="text-input" id="textInput" placeholder="Or type here..." autocomplete="off">
                    <button class="send-btn" id="sendBtn" aria-label="Send">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </footer>

        <!-- â”€â”€â”€ Pipeline Visualization (expandable) â”€â”€â”€ -->
        <div class="pipeline-drawer" id="pipelineDrawer">
            <button class="pipeline-toggle" id="pipelineToggle">
                <span>Pipeline</span>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="18 15 12 9 6 15"/></svg>
            </button>
            <div class="pipeline-content" id="pipelineContent">
                <div class="pipeline-step" id="step-stt">
                    <div class="step-dot"></div>
                    <span class="step-label">STT</span>
                    <span class="step-time"></span>
                </div>
                <div class="pipeline-connector"></div>
                <div class="pipeline-step" id="step-classify">
                    <div class="step-dot"></div>
                    <span class="step-label">Classify</span>
                    <span class="step-time"></span>
                </div>
                <div class="pipeline-connector"></div>
                <div class="pipeline-step" id="step-route">
                    <div class="step-dot"></div>
                    <span class="step-label">Route</span>
                    <span class="step-time"></span>
                </div>
                <div class="pipeline-connector"></div>
                <div class="pipeline-step" id="step-infer">
                    <div class="step-dot"></div>
                    <span class="step-label">Inference</span>
                    <span class="step-time"></span>
                </div>
                <div class="pipeline-connector"></div>
                <div class="pipeline-step" id="step-tts">
                    <div class="step-dot"></div>
                    <span class="step-label">TTS</span>
                    <span class="step-time"></span>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
